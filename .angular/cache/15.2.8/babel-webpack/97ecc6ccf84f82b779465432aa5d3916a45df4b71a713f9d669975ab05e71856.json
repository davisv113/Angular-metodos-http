{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user/user.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction TabelaComponent_tbody_10_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dado_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(dado_r1.nome);\n  }\n}\nfunction TabelaComponent_tbody_10_input_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 8);\n  }\n}\nfunction TabelaComponent_tbody_10_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dado_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(dado_r1.email);\n  }\n}\nfunction TabelaComponent_tbody_10_input_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 9);\n  }\n}\nfunction TabelaComponent_tbody_10_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dado_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(dado_r1.senha);\n  }\n}\nfunction TabelaComponent_tbody_10_input_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 10);\n  }\n}\nfunction TabelaComponent_tbody_10_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TabelaComponent_tbody_10_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.editFunc());\n    });\n    i0.ɵɵtext(1, \"Editar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TabelaComponent_tbody_10_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TabelaComponent_tbody_10_button_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const dado_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.editarUsuario(dado_r1));\n    });\n    i0.ɵɵtext(1, \"Salvar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TabelaComponent_tbody_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\");\n    i0.ɵɵtemplate(3, TabelaComponent_tbody_10_p_3_Template, 2, 1, \"p\", 2);\n    i0.ɵɵtemplate(4, TabelaComponent_tbody_10_input_4_Template, 1, 0, \"input\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtemplate(6, TabelaComponent_tbody_10_p_6_Template, 2, 1, \"p\", 2);\n    i0.ɵɵtemplate(7, TabelaComponent_tbody_10_input_7_Template, 1, 0, \"input\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtemplate(9, TabelaComponent_tbody_10_p_9_Template, 2, 1, \"p\", 2);\n    i0.ɵɵtemplate(10, TabelaComponent_tbody_10_input_10_Template, 1, 0, \"input\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtemplate(12, TabelaComponent_tbody_10_button_12_Template, 2, 0, \"button\", 6);\n    i0.ɵɵtemplate(13, TabelaComponent_tbody_10_button_13_Template, 2, 0, \"button\", 6);\n    i0.ɵɵelementStart(14, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TabelaComponent_tbody_10_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const dado_r1 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.excluirUsuario(dado_r1.id));\n    });\n    i0.ɵɵtext(15, \"Excluir\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.editMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editMode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.editMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editMode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.editMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editMode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.editMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editMode);\n  }\n}\nexport class TabelaComponent {\n  constructor(user, fb) {\n    this.user = user;\n    this.fb = fb;\n    this.dados = [];\n    this.editMode = false;\n    this.form = this.fb.group({\n      nome: ['', [Validators.required]],\n      email: ['', [Validators.required, Validators.email]],\n      senha: ['', [Validators.required]]\n    });\n  }\n  ngOnInit() {\n    this.user.autenticarUsuario().subscribe(res => {\n      this.dados = res;\n    });\n  }\n  editFunc() {\n    this.editMode = true;\n  }\n  editarUsuario(usuario) {\n    const id = usuario.id;\n    const dadosAtualizados = {\n      nome: this.form.value.nome,\n      email: this.form.value.email,\n      senha: this.form.value.senha\n    };\n    this.user.editarUsuario(id, dadosAtualizados).subscribe(res => {\n      console.log('Usuario editado');\n      this.editMode = false;\n    }, error => {\n      console.error('Erro ao editar usuário', error);\n    });\n  }\n  excluirUsuario(index) {\n    this.user.excluirUsuario(index).subscribe(res => res, error => error);\n  }\n}\nTabelaComponent.ɵfac = function TabelaComponent_Factory(t) {\n  return new (t || TabelaComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\nTabelaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TabelaComponent,\n  selectors: [[\"app-tabela\"]],\n  decls: 11,\n  vars: 2,\n  consts: [[3, \"formGroup\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"nome\", 4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"email\", 4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"senha\", 4, \"ngIf\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"], [\"type\", \"text\", \"formControlName\", \"nome\"], [\"type\", \"text\", \"formControlName\", \"email\"], [\"type\", \"text\", \"formControlName\", \"senha\"]],\n  template: function TabelaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\", 0)(1, \"thead\")(2, \"tr\")(3, \"th\");\n      i0.ɵɵtext(4, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"th\");\n      i0.ɵɵtext(6, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"Senha\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"th\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(10, TabelaComponent_tbody_10_Template, 16, 8, \"tbody\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngForOf\", ctx.dados);\n    }\n  },\n  dependencies: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i3.NgForOf, i3.NgIf],\n  styles: [\"table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n}\\n\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n  padding: 8px;\\n  text-align: left;\\n  border-bottom: 1px solid #ddd;\\n}\\n\\nth[_ngcontent-%COMP%] {\\n  background-color: #f2f2f2;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFiZWxhL3RhYmVsYS5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uLy4uLy4uLyVDMyU4MXJlYSUyMGRlJTIwVHJhYmFsaG8vRXN0dWRvcyUyMFByb2dyYW1hJUMzJUE3JUMzJUEzby9Bbmd1bGFyL21ldG9kb3MtaHR0cC9zcmMvYXBwL3RhYmVsYS90YWJlbGEuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSx5QkFBQTtBQ0NGIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbn1cclxuXHJcbnRoLCB0ZCB7XHJcbiAgcGFkZGluZzogOHB4O1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XHJcbn1cclxuXHJcbnRoIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG59XHJcbiIsInRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG59XG5cbnRoLCB0ZCB7XG4gIHBhZGRpbmc6IDhweDtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XG59XG5cbnRoIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","TabelaComponent","constructor","user","fb","form","group","nome","required","email","senha","ngOnInit","autenticarUsuario","subscribe","res","dados","editFunc","editMode","editarUsuario","usuario","id","dadosAtualizados","value","console","log","error","excluirUsuario","index","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\davi1\\OneDrive\\Área de Trabalho\\Estudos Programação\\Angular\\metodos-http\\src\\app\\tabela\\tabela.component.ts","C:\\Users\\davi1\\OneDrive\\Área de Trabalho\\Estudos Programação\\Angular\\metodos-http\\src\\app\\tabela\\tabela.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../services/user/user.service';\nimport { UserModel } from '../models/user.model';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-tabela',\n  templateUrl: './tabela.component.html',\n  styleUrls: ['./tabela.component.scss']\n})\nexport class TabelaComponent implements OnInit {\n  form!: FormGroup\n  dados: any[] = []\n  editMode: boolean = false\n\n  constructor(private user: UserService, private fb: FormBuilder,) {\n    this.form = this.fb.group({\n      nome: ['', [Validators.required]],\n      email: ['', [Validators.required, Validators.email]],\n      senha: ['', [Validators.required]],\n    });\n  }\n\n  ngOnInit() {\n    this.user.autenticarUsuario().subscribe(\n      (res) => {\n        this.dados = res\n      }\n    )\n  }\n\n\n  editFunc(){\n    this.editMode = true\n  }\n\n  editarUsuario(usuario: any) {\n    const id = usuario.id;\n    const dadosAtualizados = {\n    nome: this.form.value.nome,\n    email: this.form.value.email,\n    senha: this.form.value.senha,\n  };\n    this.user.editarUsuario(id, dadosAtualizados).subscribe(\n      (res) => {\n        console.log('Usuario editado');\n        this.editMode = false\n      },\n      (error) => {\n        console.error('Erro ao editar usuário', error);\n      }\n    )\n  }\n\n  excluirUsuario(index:any) {\n    this.user.excluirUsuario(index).subscribe (\n      res => res,\n      error => error\n    )\n  }\n\n}\n","<table [formGroup]=\"form\">\n  <thead>\n    <tr>\n      <th>Login</th>\n      <th>Email</th>\n      <th>Senha</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody *ngFor=\"let dado of dados; let i = index\" >\n    <tr>\n      <td><p *ngIf=\"!editMode\">{{dado.nome}}</p> <input type=\"text\" formControlName=\"nome\" *ngIf=\"editMode\"></td>\n      <td><p *ngIf=\"!editMode\">{{dado.email}}</p> <input type=\"text\" formControlName=\"email\" *ngIf=\"editMode\"></td>\n      <td><p *ngIf=\"!editMode\">{{dado.senha}}</p> <input type=\"text\" formControlName=\"senha\" *ngIf=\"editMode\"></td>\n      <td>\n        <button *ngIf=\"!editMode\" (click)=\"editFunc()\">Editar</button>\n        <button *ngIf=\"editMode\"(click)=\"editarUsuario(dado)\">Salvar</button>\n        <button (click)=\"excluirUsuario(dado.id)\">Excluir</button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}