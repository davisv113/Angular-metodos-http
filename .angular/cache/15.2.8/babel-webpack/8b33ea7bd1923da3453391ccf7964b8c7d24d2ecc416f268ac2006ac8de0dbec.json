{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user/user.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction TabelaComponent_tbody_10_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dado_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(dado_r1.nome);\n  }\n}\nfunction TabelaComponent_tbody_10_input_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 5);\n  }\n}\nfunction TabelaComponent_tbody_10_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function TabelaComponent_tbody_10_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.editFunc());\n    });\n    i0.ɵɵtext(1, \"Editar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TabelaComponent_tbody_10_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function TabelaComponent_tbody_10_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const dado_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.editarUsuario(dado_r1));\n    });\n    i0.ɵɵtext(1, \"Salvar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TabelaComponent_tbody_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\");\n    i0.ɵɵtemplate(3, TabelaComponent_tbody_10_p_3_Template, 2, 1, \"p\", 1);\n    i0.ɵɵtemplate(4, TabelaComponent_tbody_10_input_4_Template, 1, 0, \"input\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtemplate(10, TabelaComponent_tbody_10_button_10_Template, 2, 0, \"button\", 3);\n    i0.ɵɵtemplate(11, TabelaComponent_tbody_10_button_11_Template, 2, 0, \"button\", 3);\n    i0.ɵɵelementStart(12, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function TabelaComponent_tbody_10_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const dado_r1 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.excluirUsuario(dado_r1.id));\n    });\n    i0.ɵɵtext(13, \"Excluir\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const dado_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.editMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editMode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dado_r1.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dado_r1.senha);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.editMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editMode);\n  }\n}\nexport class TabelaComponent {\n  constructor(user, fb) {\n    this.user = user;\n    this.fb = fb;\n    this.dados = [];\n    this.editMode = false;\n    this.form = this.fb.group({\n      nome: ['', [Validators.required]],\n      email: ['', [Validators.required, Validators.email]],\n      senha: ['', [Validators.required]]\n    });\n  }\n  ngOnInit() {\n    this.user.autenticarUsuario().subscribe(res => {\n      this.dados = res;\n    });\n  }\n  editFunc() {\n    this.editMode = true;\n  }\n  editarUsuario(usuario) {\n    const id = usuario.id;\n    const dadosAtualizados = {\n      nome: 'NovoNome',\n      email: 'NovoEmail',\n      senha: 'NovaSenha'\n    };\n    this.user.editarUsuario(id, dadosAtualizados).subscribe(res => {\n      console.log('Usuario editado');\n      this.editMode = false;\n    }, error => {\n      console.error('Erro ao editar usuário', error);\n    });\n  }\n  excluirUsuario(index) {\n    this.user.excluirUsuario(index).subscribe(res => res, error => error);\n  }\n}\nTabelaComponent.ɵfac = function TabelaComponent_Factory(t) {\n  return new (t || TabelaComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\nTabelaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TabelaComponent,\n  selectors: [[\"app-tabela\"]],\n  decls: 11,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"type\", \"text\", 4, \"ngIf\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"], [\"type\", \"text\"]],\n  template: function TabelaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\")(1, \"thead\")(2, \"tr\")(3, \"th\");\n      i0.ɵɵtext(4, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"th\");\n      i0.ɵɵtext(6, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"Senha\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"th\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(10, TabelaComponent_tbody_10_Template, 14, 6, \"tbody\", 0);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngForOf\", ctx.dados);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf],\n  styles: [\"table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n}\\n\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n  padding: 8px;\\n  text-align: left;\\n  border-bottom: 1px solid #ddd;\\n}\\n\\nth[_ngcontent-%COMP%] {\\n  background-color: #f2f2f2;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFiZWxhL3RhYmVsYS5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uLy4uLy4uLyVDMyU4MXJlYSUyMGRlJTIwVHJhYmFsaG8vRXN0dWRvcyUyMFByb2dyYW1hJUMzJUE3JUMzJUEzby9Bbmd1bGFyL21ldG9kb3MtaHR0cC9zcmMvYXBwL3RhYmVsYS90YWJlbGEuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EseUJBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLDZCQUFBO0FDQ0Y7O0FERUE7RUFDRSx5QkFBQTtBQ0NGIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbn1cclxuXHJcbnRoLCB0ZCB7XHJcbiAgcGFkZGluZzogOHB4O1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XHJcbn1cclxuXHJcbnRoIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG59XHJcbiIsInRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG59XG5cbnRoLCB0ZCB7XG4gIHBhZGRpbmc6IDhweDtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XG59XG5cbnRoIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","TabelaComponent","constructor","user","fb","form","group","nome","required","email","senha","ngOnInit","autenticarUsuario","subscribe","res","dados","editFunc","editMode","editarUsuario","usuario","id","dadosAtualizados","console","log","error","excluirUsuario","index","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\davi1\\OneDrive\\Área de Trabalho\\Estudos Programação\\Angular\\metodos-http\\src\\app\\tabela\\tabela.component.ts","C:\\Users\\davi1\\OneDrive\\Área de Trabalho\\Estudos Programação\\Angular\\metodos-http\\src\\app\\tabela\\tabela.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../services/user/user.service';\nimport { UserModel } from '../models/user.model';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-tabela',\n  templateUrl: './tabela.component.html',\n  styleUrls: ['./tabela.component.scss']\n})\nexport class TabelaComponent implements OnInit {\n  form!: FormGroup\n  dados: any[] = []\n  editMode: boolean = false\n\n  constructor(private user: UserService, private fb: FormBuilder,) {\n    this.form = this.fb.group({\n      nome: ['', [Validators.required]],\n      email: ['', [Validators.required, Validators.email]],\n      senha: ['', [Validators.required]],\n    });\n  }\n\n  ngOnInit() {\n    this.user.autenticarUsuario().subscribe(\n      (res) => {\n        this.dados = res\n      }\n    )\n  }\n\n\n  editFunc(){\n    this.editMode = true\n  }\n\n  editarUsuario(usuario: any) {\n    const id = usuario.id;\n    const dadosAtualizados = {\n    nome: 'NovoNome',\n    email: 'NovoEmail',\n    senha: 'NovaSenha',\n  };\n    this.user.editarUsuario(id, dadosAtualizados).subscribe(\n      (res) => {\n        console.log('Usuario editado');\n        this.editMode = false\n      },\n      (error) => {\n        console.error('Erro ao editar usuário', error);\n      }\n    )\n  }\n\n  excluirUsuario(index:any) {\n    this.user.excluirUsuario(index).subscribe (\n      res => res,\n      error => error\n    )\n  }\n\n}\n","<table>\n  <thead>\n    <tr>\n      <th>Login</th>\n      <th>Email</th>\n      <th>Senha</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody *ngFor=\"let dado of dados; let i = index\" >\n    <tr>\n      <td><p *ngIf=\"!editMode\">{{dado.nome}}</p> <input type=\"text\" *ngIf=\"editMode\"></td>\n      <td>{{dado.email}}</td>\n      <td>{{dado.senha}}</td>\n      <td>\n        <button *ngIf=\"!editMode\" (click)=\"editFunc()\">Editar</button>\n        <button *ngIf=\"editMode\"(click)=\"editarUsuario(dado)\">Salvar</button>\n        <button (click)=\"excluirUsuario(dado.id)\">Excluir</button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}